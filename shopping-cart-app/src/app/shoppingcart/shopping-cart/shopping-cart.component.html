<div class="container">
  <div class="row">
    <div *ngIf="errorMessage.length > 0" class="col-md-12 alert alert-danger">{{errorMessage}}</div>
  </div>
  <div class="row">
    <h2 class="col-md-12">Shopping Cart</h2>
  </div>
  <div class="row">
    <div class="col-md-2">
      <h4>Image</h4>
    </div>
    <div class="col-md-4">
      <h4>Item</h4>
    </div>
    <div class="col-md-2">
      <h4>Price</h4>
    </div>
    <div class="col-md-1">
      <h4>Qty</h4>
    </div>
    <div class="col-md-2">
      <h4>Total</h4>
    </div>
    <div class="col-md-1">
      <h4>Remove</h4>
    </div>
  </div>
  <div class="row" *ngFor="let cartItem of this.currentCartService.getCurrentCart()?.items">
    <div class="col-md-12">
      <hr>
    </div>
    <div class="col-md-2">
      <img src="/assets/images/{{this.getProduct(cartItem.id)?.image}}" width="100px" height="100px" />
    </div>
    <div class="col-md-4">
      <h5>{{this.getProduct(cartItem.id)?.name}}</h5>
      <br />
      <span>{{this.getProduct(cartItem.id)?.description}}</span>
    </div>
    <div class="col-md-2">
      <span>{{this.getProduct(cartItem.id)?.price | currency:'EUR':'1.2-2'}}</span>
    </div>
    <div class="col-md-1">
      <span>{{cartItem.qty}}</span>
    </div>
    <div class="col-md-2">
      <span>{{(this.getProduct(cartItem.id)?.price * cartItem.qty) | currency:'EUR':'1.2-2'}}</span>
    </div>
    <div class="col-md-1">
      <button type="button" (click)="removeCartItem(cartItem.id, (this.getProduct(cartItem.id)?.price * cartItem.qty))"><span class="glyphicon glyphicon-remove"></span></button>
    </div>
  </div>
  <div class="row">
    <hr>
  </div>
  <div class="row">
    <h4 class="col-md-2 col-md-offset-10 text-right">
      Subtotal: {{this.currentCartService.getCurrentCart()?.total | currency:'EUR':'1.2-2'}}
    </h4>
  </div>
  <div class="row">
    <div class="col-md-2 col-md-offset-10 text-right">
      <button type="submit" class="btn btn-primary">Checkout</button>
    </div>
  </div>
</div>
